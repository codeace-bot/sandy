{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-18 15:44:57.789569",
 "css": ".invoice-wrapper {\r\n  font-family: Arial, sans-serif;\r\n  font-size: 11px;\r\n  color: #000;\r\n}\r\n\r\nh1, h2 {\r\n  margin: 0;\r\n}\r\n\r\n.small {\r\n  font-size: 9px;\r\n}\r\n\r\n.right {\r\n  text-align: right;\r\n}\r\n\r\n.header-table,\r\n.address-table,\r\n.meta-table,\r\n.item-table,\r\n.total-table,\r\n.footer-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.header-table td {\r\n  vertical-align: top;\r\n}\r\n\r\n.title {\r\n  text-align: right;\r\n}\r\n\r\n.address-table td,\r\n.meta-table td,\r\n.footer-table td {\r\n  border: 1px solid #000;\r\n  padding: 6px;\r\n  vertical-align: top;\r\n}\r\n\r\n.item-table th,\r\n.item-table td {\r\n  border: 1px solid #000;\r\n  padding: 5px;\r\n}\r\n\r\n.item-table th {\r\n  background: #f2f2f2;\r\n}\r\n\r\n.total-table th {\r\n  background: #f2f2f2;\r\n  border: 1px solid #000;\r\n  padding: 5px;\r\n}\r\n\r\n.total-table td {\r\n  border: 1px solid #000;\r\n  padding: 5px;\r\n}\r\n\r\n\r\n.grand-total td {\r\n  font-weight: bold;\r\n}\r\n\r\n.words {\r\nfont-size: 15px;\r\n  margin: 8px 0;\r\n}\r\n\r\n.signature {\r\n  text-align: right;\r\n}\r\n\r\n@media print {\r\n  body {\r\n    margin: 0;\r\n  }\r\n}\r\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<div class=\"invoice-wrapper\">\r\n\r\n<!-- ================= HEADER ================= -->\r\n<table class=\"header-table\">\r\n  <tr>\r\n    <td class=\"company\">\r\n      <h2>{{ doc.supplier }}</h2>\r\n      <p>\r\n        {{ doc.address_display or \"\" }}<br>\r\n        <strong>GSTIN:</strong> {{ doc.supplier_gstin or \"\" }}<br>\r\n        \r\n        <!--<strong>Place of Supply:</strong> {{ doc.place_of_supply or \"\" }}-->\r\n      </p>\r\n    </td>\r\n\r\n    <td class=\"title\">\r\n      <h1>TAX INVOICE</h1>\r\n      {% if doc.irn %}\r\n        <p class=\"small\">IRN: {{ doc.irn }}</p>\r\n        <p class=\"small\">Ack No: {{ doc.ack_no }}</p>\r\n        <p class=\"small\">Ack Date: {{ doc.ack_date }}</p>\r\n      {% endif %}\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<!-- ================= ADDRESSES ================= -->\r\n<table class=\"address-table\">\r\n  <tr>\r\n    <td>\r\n      <strong>Buyer (Bill To)</strong><br>\r\n      <strong>{{ doc.billing_address }}</strong><br>\r\n      {{ doc.billing_address_display or \"\" }}\r\n      <br><strong>GSTIN:</strong> {{ doc.company_gstin or \"\" }}\r\n      <br><strong>Place of Supply:</strong> {{ doc.place_of_supply or \"\" }}\r\n    </td>\r\n\r\n    <td>\r\n      <strong>Consignee (Ship To)</strong><br>\r\n      <strong>{{ doc.shipping_address }}</strong><br>\r\n      {{ doc.shipping_address_display or \"\" }}\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<!-- ================= INVOICE META ================= -->\r\n<table class=\"meta-table\">\r\n  <tr>\r\n    <td>\r\n      <strong>Invoice No.</strong><br>{{ doc.bill_no or \"\" }}<br><br>\r\n      <strong>Delivery Note</strong><br>{{ doc.delivery_note or \"\" }}<br><br>\r\n      <strong>Reference No. & Date</strong><br>\r\n      {{ doc.name }} {% if doc.bill_date %}dt. {{ doc.bill_date }}{% endif %}<br><br>\r\n      <strong>Dispatch Doc No.</strong><br>{{ doc.lr_no or \"\" }}<br><br>\r\n      <strong>Dispatched Through</strong><br>{{ doc.transporter or \"\" }}<br><br>\r\n      <strong>Bill of Lading / LR-RR No.</strong><br>\r\n      {{ doc.lr_no or \"\" }} {% if doc.lr_date %}dt. {{ doc.lr_date }}{% endif %}\r\n    </td>\r\n\r\n    <td>\r\n      <strong>Dated</strong><br>{{ doc.bill_date or \"\" }}<br><br>\r\n      <strong>Mode / Terms of Payment</strong><br>{{ doc.payment_terms_template or \"\" }}<br><br>\r\n      <strong>Other References</strong><br>{{ doc.remarks or \"\" }}<br><br>\r\n      <strong>Delivery Note Date</strong><br>{{ doc.delivery_date or \"\" }}<br><br>\r\n      <strong>Destination</strong><br>{{ doc.place_of_supply or \"\" }}<br><br>\r\n      <strong>Motor Vehicle No.</strong><br>{{ doc.vehicle_no or \"\" }}\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<!-- ================= ITEMS ================= -->\r\n<table class=\"item-table\">\r\n  <thead>\r\n    <tr>\r\n      <th>Sl</th>\r\n      <th>Description of Goods</th>\r\n      <th>HSN</th>\r\n      <th>GST %</th>\r\n      <th>Qty</th>\r\n      <th>Rate</th>\r\n      <th>UOM</th>\r\n      <th>Disc %</th>\r\n      <th>Amount</th>\r\n    </tr>\r\n  </thead>\r\n\r\n  <tbody>\r\n    {% for item in doc.items %}\r\n    <tr>\r\n      <td>{{ loop.index }}</td>\r\n      <td>{{ item.item_name }}</td>\r\n      <td>{{ item.gst_hsn_code or \"\" }}</td>\r\n      <td>\r\n        {{ item.igst_rate\r\n           or (item.cgst_rate + item.sgst_rate)\r\n           or \"\" }}\r\n      </td>\r\n      <td class=\"right\">{{ item.qty }}</td>\r\n      <td class=\"right\">{{ frappe.utils.fmt_money(item.rate, currency=doc.currency) }}</td>\r\n      <td class=\"right\">{{ item.uom }}</td>\r\n      <td class=\"right\">{{ item.discount_percentage or 0 }}%</td>\r\n      <td class=\"right\">{{ frappe.utils.fmt_money(item.amount, currency=doc.currency) }}</td>\r\n    </tr>\r\n    {% endfor %}\r\n  </tbody>\r\n</table>\r\n\r\n<!-- ================= TOTALS ================= -->\r\n<table class=\"total-table\">\r\n  <thead>\r\n    <tr>\r\n      <th>HSN / SAC</th>\r\n      <th class=\"right\">Taxable Amount</th>\r\n      <th class=\"right\">IGST</th>\r\n    </tr>\r\n  </thead>\r\n\r\n  <tbody>\r\n    {% set hsn_map = {} %}\r\n\r\n    {# ---- Build HSN Map ---- #}\r\n    {% for item in doc.items %}\r\n      {% set hsn = item.gst_hsn_code or \"N/A\" %}\r\n\r\n      {% if hsn not in hsn_map %}\r\n        {% set _ = hsn_map.update({\r\n          hsn: {\r\n            \"taxable\": 0,\r\n            \"igst_rate\": item.igst_rate or 0,\r\n            \"igst_amount\": 0\r\n          }\r\n        }) %}\r\n      {% endif %}\r\n\r\n      {% set _ = hsn_map[hsn].update({\r\n        \"taxable\": hsn_map[hsn][\"taxable\"] + item.amount,\r\n        \"igst_amount\": hsn_map[hsn][\"igst_amount\"] + item.igst_amount\r\n      }) %}\r\n    {% endfor %}\r\n\r\n    {# ---- Render Table ---- #}\r\n    {% for hsn, row in hsn_map.items() %}\r\n    <tr>\r\n      <td>{{ hsn }}</td>\r\n      <td class=\"right\">\r\n        {{ frappe.utils.fmt_money(row.taxable, currency=doc.currency) }}\r\n      </td>\r\n      <td class=\"right\">\r\n        ({{ row.igst_rate }}%)\r\n        {{ frappe.utils.fmt_money(row.igst_amount, currency=doc.currency) }}\r\n      </td>\r\n    </tr>\r\n    {% endfor %}\r\n  </tbody>\r\n\r\n  <tfoot>\r\n    <tr class=\"grand-total\">\r\n      <td>Total</td>\r\n      <td class=\"right\">\r\n        {{ frappe.utils.fmt_money(doc.total, currency=doc.currency) }}\r\n      </td>\r\n      <td class=\"right\">\r\n        {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency) }}\r\n      </td>\r\n    </tr>\r\n  </tfoot>\r\n</table>\r\n\r\n\r\n<!-- ================= AMOUNT IN WORDS ================= -->\r\n<p class=\"words\">\r\n  <strong>Amount in Words:</strong> {{ doc.in_words }}\r\n</p>\r\n\r\n<!-- ================= FOOTER ================= -->\r\n<table class=\"footer-table\">\r\n  <tr>\r\n    <td>\r\n      <strong>Terms & Conditions</strong>\r\n      <ol>\r\n        <li>Goods once sold will not be taken back.</li>\r\n        <li>Interest @18% p.a. applicable on late payment.</li>\r\n        <li>Subject to jurisdiction.</li>\r\n      </ol>\r\n    </td>\r\n\r\n    <td class=\"signature\">\r\n      For <strong>{{ doc.company }}</strong><br><br><br>\r\n      Authorised Signatory\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n</div>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-22 12:15:44.136403",
 "modified_by": "Administrator",
 "module": "Sandy",
 "name": "Custom Purchase Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}